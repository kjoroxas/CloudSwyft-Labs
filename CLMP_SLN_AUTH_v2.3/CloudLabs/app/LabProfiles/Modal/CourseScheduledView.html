<div class="modal-content panel-outline-content">
    <div class="modal-header">
        <span class="panel-modal-title">Course Schedule</span>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="close()">
        <i class="glyphicon glyphicon-remove close" aria-hidden="true"></i></button>

    </div>
    <div class="modal-body">
        <form name="sched">
            <div>
                <div style="display: flex; align-items: center;">
                    <label class="panel-sub-name" style="margin-right:2%;">Course Name</label>
                    <select ng-model="courseName" style="border-radius: 4px;" class="form-control" ng-change="getUserList(courseName)" name="courseName">
                        <option ng-repeat="x in course" value="{{x.VEProfileID}}">{{x.Name}}</option>
                    </select>

                    <label class="panel-sub-name" style="position: absolute; right: 30%; ">Start Time</label>
                    <input type="text" ng-disabled="courseName.length == null" ng-click="openCalendar($event, 'picker')" class="form-control" style="position: absolute; right: 20px;"
                           datetime-picker ng-model="picker.date"
                           datepicker-options="startSubmittedDateOptions"
                           is-open="picker.open" min="minDate" />
                    <button type="button" ng-disabled="courseName.length == null" style="position: absolute; right: 20px;" class="btn btn-default" ng-click="openCalendar($event, 'picker')"><i class="fa fa-calendar"></i></button>

                    <!--<label class="panel-sub-name" style="position: absolute; right: 39%; ">Start Time</label>
                <select ng-model="time" class="form-control noBorder" name="time" ng-disabled="courseName.length == null" style="position: absolute; right: 20px;">
                    <option ng-repeat="x in timeRange" value="{{x}}">{{x}}</option>
                </select>-->
                </div>

                <div style="display: flex; align-items: center; margin-top: 1%;">
                    <label class="panel-sub-name" style="margin-right: 3.5%;">Time Zone</label>
                    <select style="border-radius: 4px;" ng-model="timeZone" class="form-control" name="timeZone" ng-disabled="courseName.length == null">
                        <option ng-repeat="x in timeZoneList" value="{{x.Id}}">{{x.Name}}</option>
                    </select>

                    <label class="panel-sub-name" style=" position: absolute; right: 30.5%;">Idle Time</label>
                    <select class="form-control" name="idleTime" ng-model="idleTime" ng-disabled="courseName.length == null" style="position: absolute; right: 20px; border-radius:4px">
                        <option value="15">15 mins</option>
                        <option value="20">20 mins</option>
                        <option value="30">30 mins</option>
                        <option value="45">45 mins</option>
                        <option value="60">60 mins</option>
                    </select>
                </div>
            </div>
            <div style=" margin-top: 2%; margin-bottom: -2%;">
                <p style="color: white; font-weight: normal;">Note: Only .csv or .xlsx file type to upload. Download example excel sheet</p>

               <!-- <p style="color:white; font-weight: normal;">Download example excel sheet</p>-->

                <button ng-csv="testDelim" csv-header="['Email']" csv-column-order="order" filename="Bulk Schedule Sample Sheet.csv" style="background: url(../../../Content/Image/msexcel.png) no-repeat; width: 4%; border: none; height: 30px; position: absolute; left: 38%; top: 12.5rem;"></button>

                <label for="file-upload" class="custom-file-upload" style="margin-left: 18% !important; width: 70% !important; margin-top: 2%; ">
                    <i class="fa fa-cloud-upload"></i> Upload Bulk User
                </label>
                <p style="color:white; font-weight: normal; text-align:center;">{{filename}}</p>
                <input style="visibility:hidden;" type="file" name="file-upload" id="file-upload" ngf-select="uploadFiles($file, $invalidFiles)" accept=".csv, .xlsx" ng-model="picFile" class="custom-input">

                <span class="errorBulk" ng-show="showError">
                    <span>{{errorMsg}}</span>
                </span>

            </div>

        </form>








        <div style="margin: 5px; margin-left: 0px; display: flex; align-items:center;">
            <input class="form-control search-labs" ng-model="search;" ng-keyup="filterStatus(search)" type="text" placeholder="Search Course or Email" style="width: 95%; top:11px; width:220px !important;">
            <i class="glyphicon glyphicon-search" style="color:dimgray; margin-left: -20px;"></i>
        </div>

        <div id="table-animation" class="outer-box" style="height: 34rem !important; min-height: auto !important; overflow: hidden;">
            <table id="table-animation" class="table table-condensed table-hover">
                <thead class="levelOne">
                    <tr ng-model="users">
                        <th>
                            
                        </th>
                        <th ng-click="sortData('Course'); caretClick = !caretClick">
                            Course Name
                        </th>
                        <th ng-click="sortData('Email')">
                            Email
                        </th>
                        <th>
                            Scheduled DateTime
                        </th>
                        <th>
                            Timezone
                        </th>
                    </tr>
                </thead>
                <tbody ng-show="allUsers.length == 0 || filterData.length == 0">
                    <tr>
                        <td colspan="8" class="text-center noHover" style="color:white;">No User found.</td>
                    </tr>
                </tbody>
                <tbody>
                    <tr ng-show="!loading" style="text-align:center;" ng-repeat="user in aCandidates | orderBy: sortType:sortReverse"
                        class="trow" ng-click="SelectUser(user,true)">
                        <td style="text-align:left; padding-right:1em;">
                            <div>
                                <button type="button" class="close" aria-label="Close" ng-model="deleteId" ng-click="deleteSched(user.TimeScheduleId)">
                                    <i class="glyphicon glyphicon-trash my-glyphicon-style" aria-hidden="true" data-dismiss="modal"></i>
                                </button>
                            </div>
                        </td>
                        <td style="text-align:left; padding-left:3em;">
                            <div class="user-name truncate-lab letterCase">
                                <div class="push-right changeColor" style="text-overflow: ellipsis; white-space: nowrap; overflow: hidden;  color: white; width: 200px;" data-toggle="tooltip" title="{{user.FirstName}} {{user.LastName}}">
                                    {{user.CourseName}}
                                </div>
                            </div>
                        </td>
                        <td style="text-transform: lowercase; text-align:left; padding-left:3em;">
                            <div class="user-name">
                                <div data-toggle="tooltip" class="changeColor" style="text-overflow: ellipsis; white-space: nowrap; overflow: hidden; color: white; width: 257px;" title="{{user.Email}}">
                                    {{user.Email}}
                                </div>
                            </div>
                        </td>
                        <td style="text-align:left; padding-left:3em;">
                            <div class="user-name truncate-lab letterCase">
                                <div class="push-right changeColor" style="text-overflow: ellipsis; white-space: nowrap; overflow: hidden;  color: white; width: 200px;" data-toggle="tooltip" title="{{user.FirstName}} {{user.LastName}}">
                                    {{user.StartTime | date : "MMM d, y h:mm:ss a"}}
                                </div>
                            </div>
                        </td>
                        <td style="text-align:left; padding-left:3em;">
                            <div class="user-name truncate-lab letterCase">
                                <div class="push-right changeColor" style="text-overflow: ellipsis; white-space: nowrap; overflow: hidden;  color: white; width: 200px;" data-toggle="tooltip" title="{{user.FirstName}} {{user.LastName}}">
                                    {{user.TimeZone}}
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div ng-show="loading" class="loading-block-grant">
                <img class="sizeImg" src="../../../Content/Image/loading2.gif" />
            </div>
            <h1 class="loading-block white-text" ng-show="allUsers.length == 0 && loading == false">No Students Available.</h1>
        </div>
        <div class="page" style="padding-bottom:0 !important">
            <ul uib-pagination total-items="allUsers.length" ng-model="currentPage" items-per-page="itemsPerPage">
            </ul>
                        
        </div>
        <div style="margin-top: 10px;">
            <span style="color:white;">
                <u>{{allUsers.length}}</u> Total users
            </span>
        </div>






        <div style="margin-top: 15px; text-align: right; border-top: 1px solid #e5e5e5; padding-top: 10px">
            <button class="btn btn-info" type="button" ng-disabled="courseName.length == null || timeZone.length == null || picker.date == null || idleTime.length == null || showError" ng-click="save()">Save</button>
            <button class="btn btn-danger" type="button" ng-click="closeSched()">Cancel</button>
        </div>
    </div>
</div> 
